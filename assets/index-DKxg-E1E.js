import{r as y}from"./request-DAaqQaFE.js";import{c as e,I,_ as B,r as b,o as $,a as q,b as n,t as f,w as a,d as P,C as R,e as i,u as d,U as O,S as j,F as C,f as D,g as E,B as L,E as N,h as A,i as V}from"./index-B9ra-Aqz.js";var z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M917 211.1l-199.2 24c-6.6.8-9.4 8.9-4.7 13.6l59.3 59.3-226 226-101.8-101.7c-6.3-6.3-16.4-6.2-22.6 0L100.3 754.1a8.03 8.03 0 000 11.3l45 45.2c3.1 3.1 8.2 3.1 11.3 0L433.3 534 535 635.7c6.3 6.2 16.4 6.2 22.6 0L829 364.5l59.3 59.3a8.01 8.01 0 0013.6-4.7l24-199.2c.7-5.1-3.7-9.5-8.9-8.8z"}}]},name:"rise",theme:"outlined"};function k(r){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?Object(arguments[s]):{},u=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(l).filter(function(p){return Object.getOwnPropertyDescriptor(l,p).enumerable}))),u.forEach(function(p){F(r,p,l[p])})}return r}function F(r,s,l){return s in r?Object.defineProperty(r,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[s]=l,r}var v=function(s,l){var u=k({},s,l.attrs);return e(I,k({},u,{icon:z}),null)};v.displayName="RiseOutlined";v.inheritAttrs=!1;const M={class:"home-container"},U={class:"welcome-section"},h={class:"stat-value"},T={class:"stat-value"},G={class:"stat-value"},H={class:"stat-value"},J={__name:"index",setup(r){const s=b({customerCount:0,productCount:0,salesCount:0,totalAmount:0}),l=b([]),u=async()=>{try{const o=await y.get("/api/statistics/");s.value=o.data}catch{message.error("获取统计数据失败")}},p=async()=>{try{const o=await y.get("/api/sales/recent/");l.value=o.data}catch{message.error("获取最近销售记录失败")}};$(()=>{u(),p()});const w=[{title:"日期",dataIndex:"date",key:"date"},{title:"客户",dataIndex:"customer",key:"customer"},{title:"产品",dataIndex:"product",key:"product"},{title:"金额",dataIndex:"amount",key:"amount",align:"right"}];return(o,t)=>{const c=R,m=P,g=D,_=L,S=E,x=A;return V(),q("div",M,[n("div",U,[t[4]||(t[4]=n("h2",null,"欢迎使用眼科设备管理系统",-1)),n("p",null,"今天是 "+f(new Date().toLocaleDateString()),1)]),e(g,{gutter:16},{default:a(()=>[e(m,{span:6},{default:a(()=>[e(c,{class:"stat-card"},{title:a(()=>[e(d(O)),t[5]||(t[5]=i(" 客户总数 "))]),default:a(()=>[n("div",h,[n("h2",null,f(s.value.customerCount),1),t[6]||(t[6]=n("small",null,"位客户",-1))])]),_:1})]),_:1}),e(m,{span:6},{default:a(()=>[e(c,{class:"stat-card"},{title:a(()=>[e(d(j)),t[7]||(t[7]=i(" 产品总数 "))]),default:a(()=>[n("div",T,[n("h2",null,f(s.value.productCount),1),t[8]||(t[8]=n("small",null,"种产品",-1))])]),_:1})]),_:1}),e(m,{span:6},{default:a(()=>[e(c,{class:"stat-card"},{title:a(()=>[e(d(C)),t[9]||(t[9]=i(" 销售总数 "))]),default:a(()=>[n("div",G,[n("h2",null,f(s.value.salesCount),1),t[10]||(t[10]=n("small",null,"笔交易",-1))])]),_:1})]),_:1}),e(m,{span:6},{default:a(()=>[e(c,{class:"stat-card"},{title:a(()=>[e(d(v)),t[11]||(t[11]=i(" 销售总额 "))]),default:a(()=>[n("div",H,[n("h2",null,"¥"+f(s.value.totalAmount),1),t[12]||(t[12]=n("small",null,"元",-1))])]),_:1})]),_:1})]),_:1}),e(g,{gutter:16,style:{"margin-top":"16px"}},{default:a(()=>[e(m,{span:8},{default:a(()=>[e(c,{title:"快捷操作",class:"quick-actions"},{default:a(()=>[e(S,{direction:"vertical",style:{width:"100%"}},{default:a(()=>[e(_,{type:"primary",block:"",onClick:t[0]||(t[0]=()=>o.$router.push({path:"/dealers",query:{modal:"add"}}))},{icon:a(()=>[e(d(O))]),default:a(()=>[t[13]||(t[13]=i(" 新增客户 "))]),_:1}),e(_,{type:"primary",block:"",onClick:t[1]||(t[1]=()=>o.$router.push({path:"/products",query:{modal:"add"}}))},{icon:a(()=>[e(d(N))]),default:a(()=>[t[14]||(t[14]=i(" 新增产品 "))]),_:1}),e(_,{type:"primary",block:"",onClick:t[2]||(t[2]=()=>o.$router.push({path:"/sales",query:{modal:"add"}}))},{icon:a(()=>[e(d(C))]),default:a(()=>[t[15]||(t[15]=i(" 记录销售 "))]),_:1})]),_:1})]),_:1})]),_:1}),e(m,{span:16},{default:a(()=>[e(c,{title:"最近销售记录",extra:"查看更多",onClick:t[3]||(t[3]=Q=>o.$router.push("/sales"))},{default:a(()=>[e(x,{columns:w,"data-source":l.value,pagination:!1,size:"middle"},null,8,["data-source"])]),_:1})]),_:1})]),_:1})])}}},Y=B(J,[["__scopeId","data-v-60e690ad"]]);export{Y as default};
